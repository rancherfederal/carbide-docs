"use strict";(self.webpackChunkcarbide_docs=self.webpackChunkcarbide_docs||[]).push([[8415],{1339:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/rancher-compliance-ef0e36b6f403769ed3310768216c5444.png"},5415:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/scan-dropdown-dac4bd8961c411f2c766685c95067d3f.png"},6278:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/rke2-scan-pass-7d26aeb26a2854ad15d0a045cb8a72f3.png"},7464:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"compliance-operator-docs/rke2-stig-scans","title":"RKE2 STIG Scanning","description":"Rancher Compliance Operator for RKE2 STIG Cluster Scanning","source":"@site/docs/compliance-operator-docs/rke2-stig-scans.md","sourceDirName":"compliance-operator-docs","slug":"/compliance-operator-docs/rke2-stig-scans","permalink":"/carbide-docs/docs/compliance-operator-docs/rke2-stig-scans","draft":false,"unlisted":false,"editUrl":"https://github.com/rancherfederal/carbide-docs/edit/main/docs/compliance-operator-docs/rke2-stig-scans.md","tags":[],"version":"current","frontMatter":{},"sidebar":"carbideSidebar","previous":{"title":"Provisioning Clusters","permalink":"/carbide-docs/docs/IC-cloud-support-docs/usage"},"next":{"title":"Introduction","permalink":"/carbide-docs/docs/stigatron-docs/introduction"}}');var i=s(4848),c=s(8453);const l={},a="RKE2 STIG Scanning",t={},o=[{value:"Rancher Compliance Operator for RKE2 STIG Cluster Scanning",id:"rancher-compliance-operator-for-rke2-stig-cluster-scanning",level:3},{value:"Pre-requisites",id:"pre-requisites",level:3},{value:"Install Rancher Compliance",id:"install-rancher-compliance",level:3},{value:"Add STIG Profile",id:"add-stig-profile",level:3},{value:"Launch a Scan",id:"launch-a-scan",level:3}];function d(e){const n={a:"a",code:"code",h1:"h1",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"rke2-stig-scanning",children:"RKE2 STIG Scanning"})}),"\n",(0,i.jsx)(n.h3,{id:"rancher-compliance-operator-for-rke2-stig-cluster-scanning",children:"Rancher Compliance Operator for RKE2 STIG Cluster Scanning"}),"\n",(0,i.jsx)(n.p,{children:"The Rancher Compliance Operator provides a tightly integrated way to run RKE2 STIG checks against downstream clusters. The operator is easy to install in a few clicks through the Rancher UI, and RGS provides a STIG profile to run checks against RKE2 clusters. This returns visual results and direct remediation steps for any findings, simplifying STIG compliance management."}),"\n",(0,i.jsx)(n.h3,{id:"pre-requisites",children:"Pre-requisites"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Rancher 2.12+"}),"\n",(0,i.jsx)(n.li,{children:"RKE2 1.31+"}),"\n",(0,i.jsx)(n.li,{children:"CLI access to local cluster"}),"\n",(0,i.jsxs)(n.li,{children:["RKE2 STIG profile (file) OR ",(0,i.jsx)(n.code,{children:"rgs-stig-profiles"})," helm chart"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"install-rancher-compliance",children:"Install Rancher Compliance"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["On the cluster manangement page, select the cluster where you want to install the Compliance Operator and click ",(0,i.jsx)(n.strong,{children:"Explore"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["In the navigation bar, click ",(0,i.jsx)(n.strong,{children:"Apps > Charts"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Select ",(0,i.jsx)(n.strong,{children:"Rancher Compliance"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Install Rancher Compliance",src:s(1339).A+"",width:"909",height:"517"})}),"\n",(0,i.jsxs)(n.ol,{start:"4",children:["\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"Install"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"add-stig-profile",children:"Add STIG Profile"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Navigate to the Carbide portal and copy the helm command for the version of Rancher you're using. For example:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"helm pull oci://rgcrprod.azurecr.us/carbide-charts/rgs-stig-profiles --version 2.12.4\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"STIG Profile Chart",src:s(9428).A+"",width:"3036",height:"1116"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:"Push the chart to your local registry."}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"helm push rgs-stig-profiles-2.12.4.tgz oci://<private-regstiry-url>/rgs-stig-profiles:2.12.4\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:"From the Rancher local cluster, run:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"helm install rgs-stig-profile -n compliance-operator-system oci://<private-regsitry-url>/rgs-stig-profiles:2.12.4\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsxs)(n.li,{children:["Confirm the ",(0,i.jsx)(n.code,{children:"rke2-stig-1.31"})," profile and benchmark appear under ",(0,i.jsx)(n.strong,{children:"Compliance > Profile"})," in the sidebar."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Alternatively, you can apply the STIG profile file directly using the following steps."}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["If needed, request the STIG profile from ",(0,i.jsx)(n.a,{href:"https://support.rancherfederal.com/",children:"RGS Support"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"From the local Rancher cluster, run:"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl apply -f rke2-stig-1.31.yaml\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsxs)(n.li,{children:["Confirm the ",(0,i.jsx)(n.code,{children:"rke2-stig-1.31"})," profile and benchmark appear under ",(0,i.jsx)(n.strong,{children:"Compliance > Profile"})," in the sidebar."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"launch-a-scan",children:"Launch a Scan"}),"\n",(0,i.jsx)(n.p,{children:"Once installed, the RKE2 STIG profile will appear in the Rancher Compliance application dropdown list. The profile can be selected when running scans on clusters running RKE2 1.31 and above."}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["To create a new scan, navigate to ",(0,i.jsx)(n.strong,{children:"Compliance > Scans"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Select the RKE2 STIG profile from the dropdown."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Profile Dropdown",src:s(5415).A+"",width:"1174",height:"375"})}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsxs)(n.li,{children:["Once executed, the scan results will be returned on the ",(0,i.jsx)(n.code,{children:"Scans"})," page, including Pass/Fail status and any remediations."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Passing Result",src:s(6278).A+"",width:"1647",height:"741"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Remediation Result",src:s(7571).A+"",width:"1611",height:"761"})})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},7571:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/scan-result-remediation-87b1944a898bf1ad3f53e4b9940d4e8e.png"},8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>a});var r=s(6540);const i={},c=r.createContext(i);function l(e){const n=r.useContext(c);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(c.Provider,{value:n},e.children)}},9428:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/stig-profile-chart-abe87452434bb03e4b57ab7d6254ea3b.png"}}]);