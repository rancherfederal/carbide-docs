"use strict";(self.webpackChunkcarbide_docs=self.webpackChunkcarbide_docs||[]).push([[120],{8088:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>c,toc:()=>l});var t=r(4848),i=r(8453);const s={},o="Getting Started",c={id:"stigatron-docs/getting-started",title:"Getting Started",description:"This will guide you through getting started with STIGATRON.",source:"@site/docs/stigatron-docs/getting-started.md",sourceDirName:"stigatron-docs",slug:"/stigatron-docs/getting-started",permalink:"/carbide-docs/docs/stigatron-docs/getting-started",draft:!1,unlisted:!1,editUrl:"https://github.com/rancherfederal/carbide-docs/edit/main/docs/stigatron-docs/getting-started.md",tags:[],version:"current",frontMatter:{},sidebar:"carbideSidebar",previous:{title:"Prerequisites",permalink:"/carbide-docs/docs/stigatron-docs/prereqs"},next:{title:"Installation",permalink:"/carbide-docs/docs/stigatron-docs/installation"}},d={},l=[{value:"STIGATRON Images",id:"stigatron-images",level:2},{value:"Internet-Connected Environment",id:"internet-connected-environment",level:3},{value:"Airgapped Environment",id:"airgapped-environment",level:3},{value:"STIGATRON Helm Chart",id:"stigatron-helm-chart",level:2},{value:"Configuring Registry Credentials",id:"configuring-registry-credentials",level:2},{value:"Local Cluster",id:"local-cluster",level:3},{value:"Downstream Clusters",id:"downstream-clusters",level:3},{value:"Rancher-Provisioned Cluster",id:"rancher-provisioned-cluster",level:3},{value:"Imported Cluster",id:"imported-cluster",level:3}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"getting-started",children:"Getting Started"}),"\n",(0,t.jsx)(n.p,{children:"This will guide you through getting started with STIGATRON."}),"\n",(0,t.jsx)(n.h2,{id:"stigatron-images",children:"STIGATRON Images"}),"\n",(0,t.jsxs)(n.p,{children:["The images for STIGATRON can be found ",(0,t.jsx)(n.a,{href:"https://github.com/rancherfederal/carbide-releases/releases",children:"here"}),". You'll need to pull these images using ",(0,t.jsx)(n.code,{children:"hauler"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"internet-connected-environment",children:"Internet-Connected Environment"}),"\n",(0,t.jsxs)(n.p,{children:["If you're working in a connected environment, look ",(0,t.jsx)(n.a,{href:"/carbide-docs/docs/registry-docs/copying-images",children:"here"})," for instructions on pulling the images into your registry."]}),"\n",(0,t.jsx)(n.h3,{id:"airgapped-environment",children:"Airgapped Environment"}),"\n",(0,t.jsxs)(n.p,{children:["If you're working in an airgapped environment, look ",(0,t.jsx)(n.a,{href:"/carbide-docs/docs/registry-docs/downloading-images",children:"here"})," for instructions on pulling the images locally."]}),"\n",(0,t.jsxs)(n.p,{children:["On the airgap, look ",(0,t.jsx)(n.a,{href:"/carbide-docs/docs/registry-docs/loading-images",children:"here"})," for loading the localized images into the airgapped registry."]}),"\n",(0,t.jsx)(n.h2,{id:"stigatron-helm-chart",children:"STIGATRON Helm Chart"}),"\n",(0,t.jsxs)(n.p,{children:["The chart for STIGATRON can be found ",(0,t.jsx)(n.a,{href:"/carbide-docs/docs/carbide-charts",children:"here"}),". You'll need to pull the chart using ",(0,t.jsx)(n.code,{children:"hauler"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"configuring-registry-credentials",children:"Configuring Registry Credentials"}),"\n",(0,t.jsx)(n.h3,{id:"local-cluster",children:"Local Cluster"}),"\n",(0,t.jsxs)(n.p,{children:["On the local cluster running Rancher Multi-cluster Manager, you'll need to configure credentials for the registry with the STIGATRON images. See the ",(0,t.jsx)(n.a,{href:"/carbide-docs/docs/registry-docs/rancher-config",children:"Rancher Configuration"})," on how to set up those credentials."]}),"\n",(0,t.jsx)(n.h3,{id:"downstream-clusters",children:"Downstream Clusters"}),"\n",(0,t.jsx)(n.p,{children:"For downstream clusters, you'll need to also configure registry credentials. Depending on how RKE2 was configured and set up, there are a few ways to do this."}),"\n",(0,t.jsx)(n.h3,{id:"rancher-provisioned-cluster",children:"Rancher-Provisioned Cluster"}),"\n",(0,t.jsx)(n.p,{children:"If you provisioned or are provisioning RKE2 directly from the Rancher UI, you can configure/update that cluster with credentials."}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Click the upper-left menu and navigate to ",(0,t.jsx)(n.code,{children:"Cluster Management"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["If updating an existing cluster, select that cluster, click the 3-dot menu in the upper-right, and select ",(0,t.jsx)(n.code,{children:"Edit Config"}),". If creating a new cluster, just click ",(0,t.jsx)(n.code,{children:"Create"})," in the upper-left."]}),"\n",(0,t.jsxs)(n.li,{children:["Once you get to the screen to update/create the cluster's node pools, scroll to the bottom under ",(0,t.jsx)(n.code,{children:"Cluster Configuration"})," and find the ",(0,t.jsx)(n.code,{children:"Registries"})," tab."]}),"\n",(0,t.jsxs)(n.li,{children:["Select the second option (",(0,t.jsx)(n.code,{children:"Use specified private registry for Rancher System Container Images"}),")."]}),"\n",(0,t.jsx)(n.li,{children:"Enter your registry hostname in the first box."}),"\n",(0,t.jsxs)(n.li,{children:["In the ",(0,t.jsx)(n.code,{children:"Authentication"})," box, select ",(0,t.jsx)(n.code,{children:"Create a HTTP Basic Auth Secret"})," and enter your credentials."]}),"\n"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"For future clusters using the same registry, you can just select existing secret."}),"\n"]}),"\n",(0,t.jsxs)(n.ol,{start:"7",children:["\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.code,{children:"Save"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Rancher Registry Configuration",src:r(1175).A+"",width:"3078",height:"1042"})}),"\n",(0,t.jsxs)(n.ol,{start:"8",children:["\n",(0,t.jsx)(n.li,{children:"Wait for cluster to reconcile."}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"imported-cluster",children:"Imported Cluster"}),"\n",(0,t.jsxs)(n.p,{children:["If you're working with a cluster that was imported or is to be imported into the Rancher MCM, you'll need to update the containerd ",(0,t.jsx)(n.code,{children:"registries.yaml"})," file on every node, substituting your registry hostname and credentials:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# /etc/rancher/k3s/registries.yaml\n# /etc/rancher/rke2/registries.yaml\nconfigs:\n  "<registry-url>":\n    auth:\n      username: <redacted>\n      password: <redacted>\n'})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},1175:(e,n,r)=>{r.d(n,{A:()=>t});const t=r.p+"assets/images/registry-configuration-b07e5b64159cbcd2fad422211645667f.png"},8453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>c});var t=r(6540);const i={},s=t.createContext(i);function o(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);