"use strict";(self.webpackChunkcarbide_docs=self.webpackChunkcarbide_docs||[]).push([[451],{9656:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>s,metadata:()=>d,toc:()=>a});var t=n(4848),i=n(8453);const s={},c="Getting Started",d={id:"airgapped-docs/getting-started",title:"Getting Started",description:"This will guide you through getting started with Airgapped Docs.",source:"@site/docs/airgapped-docs/getting-started.md",sourceDirName:"airgapped-docs",slug:"/airgapped-docs/getting-started",permalink:"/carbide-docs/docs/airgapped-docs/getting-started",draft:!1,unlisted:!1,editUrl:"https://github.com/rancherfederal/carbide-docs/edit/main/docs/airgapped-docs/getting-started.md",tags:[],version:"current",frontMatter:{},sidebar:"carbideSidebar",previous:{title:"Prerequisites",permalink:"/carbide-docs/docs/airgapped-docs/prereqs"},next:{title:"Installation",permalink:"/carbide-docs/docs/airgapped-docs/installation"}},o={},a=[{value:"Airgapped Docs Images",id:"airgapped-docs-images",level:2},{value:"Internet-Connected Environment",id:"internet-connected-environment",level:3},{value:"Airgapped Environment",id:"airgapped-environment",level:3},{value:"Airgapped Docs Helm Chart",id:"airgapped-docs-helm-chart",level:2},{value:"Configuring Registry Credentials",id:"configuring-registry-credentials",level:2},{value:"Local Cluster",id:"local-cluster",level:3},{value:"Downstream Clusters",id:"downstream-clusters",level:3},{value:"Rancher-Provisioned Cluster",id:"rancher-provisioned-cluster",level:3},{value:"Imported Cluster",id:"imported-cluster",level:3}];function l(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.h1,{id:"getting-started",children:"Getting Started"}),"\n",(0,t.jsx)(r.p,{children:"This will guide you through getting started with Airgapped Docs."}),"\n",(0,t.jsx)(r.h2,{id:"airgapped-docs-images",children:"Airgapped Docs Images"}),"\n",(0,t.jsxs)(r.p,{children:["The images for Airgapped Docs can be found ",(0,t.jsx)(r.a,{href:"https://github.com/rancherfederal/carbide-releases/releases",children:"here"}),". You'll need to pull these images using ",(0,t.jsx)(r.code,{children:"hauler"}),"."]}),"\n",(0,t.jsx)(r.h3,{id:"internet-connected-environment",children:"Internet-Connected Environment"}),"\n",(0,t.jsxs)(r.p,{children:["If you're working in a connected environment, look ",(0,t.jsx)(r.a,{href:"/carbide-docs/docs/registry-docs/copying-images",children:"here"})," for instructions on pulling the images into your registry."]}),"\n",(0,t.jsx)(r.h3,{id:"airgapped-environment",children:"Airgapped Environment"}),"\n",(0,t.jsxs)(r.p,{children:["If you're working in an airgapped environment, look ",(0,t.jsx)(r.a,{href:"/carbide-docs/docs/registry-docs/downloading-images",children:"here"})," for instructions on pulling the images locally."]}),"\n",(0,t.jsxs)(r.p,{children:["On the airgap, look ",(0,t.jsx)(r.a,{href:"/carbide-docs/docs/registry-docs/loading-images",children:"here"})," for loading the localized images into the airgapped registry."]}),"\n",(0,t.jsx)(r.h2,{id:"airgapped-docs-helm-chart",children:"Airgapped Docs Helm Chart"}),"\n",(0,t.jsxs)(r.p,{children:["The chart for Airgapped Docs can be found ",(0,t.jsx)(r.a,{href:"/carbide-docs/docs/carbide-charts",children:"here"}),". You'll need to pull the chart using ",(0,t.jsx)(r.code,{children:"hauler"}),"."]}),"\n",(0,t.jsx)(r.h2,{id:"configuring-registry-credentials",children:"Configuring Registry Credentials"}),"\n",(0,t.jsx)(r.h3,{id:"local-cluster",children:"Local Cluster"}),"\n",(0,t.jsxs)(r.p,{children:["On the local cluster running Rancher Multi-cluster Manager, you'll need to configure credentials for the registry with the Airgapped Docs images. See the ",(0,t.jsx)(r.a,{href:"/carbide-docs/docs/registry-docs/rancher-config",children:"Rancher Configuration"})," on how to set up those credentials."]}),"\n",(0,t.jsx)(r.h3,{id:"downstream-clusters",children:"Downstream Clusters"}),"\n",(0,t.jsx)(r.p,{children:"For downstream clusters, you'll need to also configure registry credentials. Depending on how RKE2 was configured and set up, there are a few ways to do this."}),"\n",(0,t.jsx)(r.h3,{id:"rancher-provisioned-cluster",children:"Rancher-Provisioned Cluster"}),"\n",(0,t.jsx)(r.p,{children:"If you provisioned or are provisioning RKE2 directly from the Rancher UI, you can configure/update that cluster with credentials."}),"\n",(0,t.jsxs)(r.ol,{children:["\n",(0,t.jsxs)(r.li,{children:["Click the upper-left menu and navigate to ",(0,t.jsx)(r.code,{children:"Cluster Management"}),"."]}),"\n",(0,t.jsxs)(r.li,{children:["If updating an existing cluster, select that cluster, click the 3-dot menu in the upper-right, and select ",(0,t.jsx)(r.code,{children:"Edit Config"}),". If creating a new cluster, just click ",(0,t.jsx)(r.code,{children:"Create"})," in the upper-left."]}),"\n",(0,t.jsxs)(r.li,{children:["Once you get to the screen to update/create the cluster's node pools, scroll to the bottom under ",(0,t.jsx)(r.code,{children:"Cluster Configuration"})," and find the ",(0,t.jsx)(r.code,{children:"Registries"})," tab."]}),"\n",(0,t.jsxs)(r.li,{children:["Select the second option (",(0,t.jsx)(r.code,{children:"Use specified private registry for Rancher System Container Images"}),")."]}),"\n",(0,t.jsx)(r.li,{children:"Enter your registry hostname in the first box."}),"\n",(0,t.jsxs)(r.li,{children:["In the ",(0,t.jsx)(r.code,{children:"Authentication"})," box, select ",(0,t.jsx)(r.code,{children:"Create a HTTP Basic Auth Secret"})," and enter your credentials."]}),"\n"]}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"For future clusters using the same registry, you can just select existing secret."}),"\n"]}),"\n",(0,t.jsxs)(r.ol,{start:"7",children:["\n",(0,t.jsxs)(r.li,{children:["Click ",(0,t.jsx)(r.code,{children:"Save"}),"."]}),"\n"]}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.img,{alt:"Rancher Registry Configuration",src:n(1175).A+"",width:"3078",height:"1042"})}),"\n",(0,t.jsxs)(r.ol,{start:"8",children:["\n",(0,t.jsx)(r.li,{children:"Wait for cluster to reconcile."}),"\n"]}),"\n",(0,t.jsx)(r.h3,{id:"imported-cluster",children:"Imported Cluster"}),"\n",(0,t.jsxs)(r.p,{children:["If you're working with a cluster that was imported or is to be imported into the Rancher MCM, you'll need to update the containerd ",(0,t.jsx)(r.code,{children:"registries.yaml"})," file on every node, substituting your registry hostname and credentials:"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-bash",children:'# /etc/rancher/k3s/registries.yaml\n# /etc/rancher/rke2/registries.yaml\nconfigs:\n  "<registry-url>":\n    auth:\n      username: <redacted>\n      password: <redacted>\n'})})]})}function h(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},1175:(e,r,n)=>{n.d(r,{A:()=>t});const t=n.p+"assets/images/registry-configuration-b07e5b64159cbcd2fad422211645667f.png"},8453:(e,r,n)=>{n.d(r,{R:()=>c,x:()=>d});var t=n(6540);const i={},s=t.createContext(i);function c(e){const r=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function d(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),t.createElement(s.Provider,{value:r},e.children)}}}]);